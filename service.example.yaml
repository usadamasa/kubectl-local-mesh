# yaml-language-server: $schema=schemas/config.schema.json
listener_port: 80

# Optional: GCP SSH Bastions for database connections
ssh_bastions:
  primary:
    instance: bastion-instance-1
    zone: asia-northeast1-a
    project: my-gcp-project

services:
  # Kubernetes Services (HTTP/gRPC)
  - kind: kubernetes
    host: users-api.localhost
    namespace: users
    service: users-api
    port_name: grpc
    protocol: grpc

  - kind: kubernetes
    host: billing-api.localhost
    namespace: billing
    service: billing-api
    port_name: http
    protocol: http

  - kind: kubernetes
    host: admin.localhost
    namespace: admin
    service: admin-web
    port: 8080
    protocol: http

  # Database via GCP SSH Bastion (TCP)
  - kind: tcp
    host: users-db.localhost
    ssh_bastion: primary
    target_host: 10.0.0.1  # Private IP (e.g., Cloud SQL)
    target_port: 5432
